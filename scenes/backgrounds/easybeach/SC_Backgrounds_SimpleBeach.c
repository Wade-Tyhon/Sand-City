#include <libdragon.h>
#include <GL/gl.h>
#include <GL/glu.h>
#include <GL/gl_integration.h>
#include <malloc.h>
#include <math.h>

#include "../../../ngin64/nGin64.h"



typedef struct {
    float position[3];
    float texcoord[2];
    float normal[3];
    uint32_t color;
} vertex_t;


extern GLuint textures[];

extern GLuint waveTextures[];

extern u8 textureTotal;
extern u8 waveTextureTotal;



static const gl_XP64_Vert vert_Beach[] = {
      {.pos = {42.12, 14.93, 5.28}, .uv = {3.68, -0.25}, .vNormal = { 15.00, -17.00, 124.00}, .vColor = { 238, 238, 236, 255 } },
      {.pos = {53.18, 19.39, 4.65}, .uv = {4.33, -0.28}, .vNormal = { 5.00, 1.00, 126.00}, .vColor = { 224, 221, 206, 255 } },
      {.pos = {42.30, 21.00, 5.00}, .uv = {3.74, -0.95}, .vNormal = { 22.00, -71.00, 102.00}, .vColor = { 156, 134, 125, 255 } },
      {.pos = {-91.48, 28.67, 4.25}, .uv = {-5.44, -0.03}, .vNormal = { 8.00, -83.00, 95.00}, .vColor = { 122, 99, 94, 255 } },
      {.pos = {-68.15, 28.93, 5.61}, .uv = {-4.13, -0.25}, .vNormal = { -6.00, -1.00, 126.00}, .vColor = { 216, 193, 179, 255 } },
      {.pos = {-67.99, 34.87, 5.48}, .uv = {-4.34, -0.86}, .vNormal = { 6.00, -99.00, 78.00}, .vColor = { 122, 99, 94, 255 } },
      {.pos = {17.06, 17.06, 8.87}, .uv = {1.88, -0.17}, .vNormal = { 9.00, -34.00, 121.00}, .vColor = { 238, 238, 236, 255 } },
      {.pos = {14.77, 24.89, 11.00}, .uv = {1.57, -0.96}, .vNormal = { -16.00, -109.00, 61.00}, .vColor = { 122, 99, 94, 255 } },
      {.pos = {18.53, -48.02, -2.55}, .uv = {-2.11, 1.07}, .vNormal = { 0.00, -19.00, 125.00}, .vColor = { 105, 86, 88, 255 } },
      {.pos = {45.16, -27.87, 0.48}, .uv = {-0.52, 2.51}, .vNormal = { 3.00, -16.00, 125.00}, .vColor = { 119, 96, 92, 255 } },
      {.pos = {18.91, -26.62, 0.88}, .uv = {-0.74, 0.85}, .vNormal = { 3.00, -25.00, 124.00}, .vColor = { 119, 96, 92, 255 } },
      {.pos = {18.00, 9.00, 6.00}, .uv = {1.78, 0.32}, .vNormal = { 9.00, -28.00, 123.00}, .vColor = { 238, 238, 236, 255 } },
      {.pos = {42.12, 14.93, 5.28}, .uv = {2.16, 1.84}, .vNormal = { 15.00, -17.00, 124.00}, .vColor = { 238, 238, 236, 255 } },
      {.pos = {17.06, 17.06, 8.87}, .uv = {2.08, 0.21}, .vNormal = { 9.00, -34.00, 121.00}, .vColor = { 238, 238, 236, 255 } },
      {.pos = {-41.29, -46.90, -4.44}, .uv = {-2.75, -2.70}, .vNormal = { -3.00, -22.00, 124.00}, .vColor = { 105, 86, 88, 255 } },
      {.pos = {-17.80, -26.72, 1.03}, .uv = {-1.17, -1.46}, .vNormal = { -4.00, -28.00, 123.00}, .vColor = { 119, 96, 92, 255 } },
      {.pos = {-42.81, -26.04, -0.68}, .uv = {-1.43, -3.04}, .vNormal = { -4.00, -23.00, 124.00}, .vColor = { 119, 96, 92, 255 } },
      {.pos = {-97.47, -45.66, -3.03}, .uv = {-3.32, -6.24}, .vNormal = { 1.00, -20.00, 125.00}, .vColor = { 105, 86, 88, 255 } },
      {.pos = {-65.79, -25.52, -0.17}, .uv = {-1.67, -4.49}, .vNormal = { 1.00, -19.00, 125.00}, .vColor = { 119, 96, 92, 255 } },
      {.pos = {-98.24, -25.09, 0.25}, .uv = {-2.02, -6.53}, .vNormal = { 1.00, -17.00, 125.00}, .vColor = { 119, 96, 92, 255 } },
      {.pos = {-94.06, 13.00, 4.03}, .uv = {0.43, -6.72}, .vNormal = { -3.00, -7.00, 126.00}, .vColor = { 216, 194, 180, 255 } },
      {.pos = {-68.15, 28.93, 5.61}, .uv = {1.75, -5.29}, .vNormal = { -6.00, -1.00, 126.00}, .vColor = { 216, 193, 179, 255 } },
      {.pos = {-91.48, 28.67, 4.25}, .uv = {1.44, -6.75}, .vNormal = { 8.00, -83.00, 95.00}, .vColor = { 122, 99, 94, 255 } },
      {.pos = {48.14, -50.40, -2.55}, .uv = {-1.92, 2.95}, .vNormal = { 5.00, -18.00, 125.00}, .vColor = { 105, 86, 88, 255 } },
      {.pos = {69.12, -27.45, -0.82}, .uv = {-0.24, 4.02}, .vNormal = { 6.00, -18.00, 125.00}, .vColor = { 119, 96, 92, 255 } },
      {.pos = {42.09, 13.00, 4.75}, .uv = {2.04, 1.86}, .vNormal = { 10.00, -20.00, 124.00}, .vColor = { 238, 238, 236, 255 } },
      {.pos = {53.18, 19.39, 4.65}, .uv = {2.56, 2.49}, .vNormal = { 5.00, 1.00, 126.00}, .vColor = { 224, 221, 206, 255 } },
      {.pos = {94.42, 28.67, 2.92}, .uv = {6.92, -0.10}, .vNormal = { -20.00, -92.00, 84.00}, .vColor = { 110, 89, 85, 255 } },
      {.pos = {69.99, 33.87, 7.25}, .uv = {6.18, -0.32}, .vNormal = { 16.00, -92.00, 85.00}, .vColor = { 194, 191, 168, 255 } },
      {.pos = {69.83, 33.00, 3.00}, .uv = {6.11, -0.83}, .vNormal = { 13.00, -83.00, 95.00}, .vColor = { 122, 99, 94, 255 } },
      {.pos = {-12.51, 35.41, 12.28}, .uv = {-0.53, -0.99}, .vNormal = { -19.00, -115.00, 50.00}, .vColor = { 122, 99, 94, 255 } },
      {.pos = {-40.10, 30.78, 14.15}, .uv = {-2.26, -0.48}, .vNormal = { -8.00, -119.00, 43.00}, .vColor = { 201, 200, 178, 255 } },
      {.pos = {-40.21, 32.45, 8.00}, .uv = {-2.46, -1.01}, .vNormal = { -9.00, -103.00, 72.00}, .vColor = { 122, 99, 94, 255 } },
      {.pos = {42.28, 21.26, 9.37}, .uv = {3.92, -0.39}, .vNormal = { 26.00, -105.00, 64.00}, .vColor = { 196, 194, 171, 255 } },
      {.pos = {14.21, 22.54, 18.32}, .uv = {1.62, -0.39}, .vNormal = { -9.00, -115.00, 51.00}, .vColor = { 228, 233, 216, 255 } },
      {.pos = {-67.00, 34.00, 11.00}, .uv = {-4.13, -0.44}, .vNormal = { -2.00, -113.00, 57.00}, .vColor = { 175, 167, 137, 255 } },
      {.pos = {-93.85, 29.00, 7.00}, .uv = {-5.61, -0.19}, .vNormal = { 7.00, -101.00, 76.00}, .vColor = { 175, 167, 137, 255 } },
      {.pos = {14.77, 24.89, 11.00}, .uv = {1.46, -0.96}, .vNormal = { -16.00, -109.00, 61.00}, .vColor = { 122, 99, 94, 255 } },
      {.pos = {-13.17, 31.77, 19.72}, .uv = {-0.44, -0.40}, .vNormal = { -22.00, -114.00, 49.00}, .vColor = { 228, 233, 216, 255 } },
      {.pos = {-12.51, 35.41, 12.28}, .uv = {-0.38, -0.99}, .vNormal = { -19.00, -115.00, 50.00}, .vColor = { 122, 99, 94, 255 } },
      {.pos = {-45.00, 37.00, 17.00}, .uv = {0.50, 1.13}, .vNormal = { -17.00, -42.00, 118.00}, .vColor = { 226, 233, 218, 255 } },
      {.pos = {-57.00, 72.00, 23.00}, .uv = {0.04, -0.38}, .vNormal = { 0.00, -22.00, 124.00}, .vColor = { 187, 195, 174, 255 } },
      {.pos = {-66.00, 39.00, 14.00}, .uv = {0.00, 1.39}, .vNormal = { -15.00, -44.00, 117.00}, .vColor = { 187, 195, 174, 255 } },
      {.pos = {-85.25, 68.00, 18.53}, .uv = {-0.26, 0.04}, .vNormal = { -14.00, -28.00, 122.00}, .vColor = { 187, 195, 174, 255 } },
      {.pos = {-92.21, 33.80, 9.87}, .uv = {-0.33, 1.90}, .vNormal = { -7.00, -52.00, 115.00}, .vColor = { 187, 195, 174, 255 } },
      {.pos = {-12.99, 38.16, 23.02}, .uv = {0.99, 0.72}, .vNormal = { -12.00, -30.00, 122.00}, .vColor = { 242, 249, 236, 255 } },
      {.pos = {19.00, 70.00, 23.00}, .uv = {1.46, -0.73}, .vNormal = { 22.00, -12.00, 124.00}, .vColor = { 187, 195, 174, 255 } },
      {.pos = {-12.84, 70.10, 26.54}, .uv = {0.93, -0.89}, .vNormal = { -11.00, -13.00, 125.00}, .vColor = { 187, 195, 174, 255 } },
      {.pos = {68.86, 40.67, 10.29}, .uv = {2.49, -0.16}, .vNormal = { 18.00, -23.00, 123.00}, .vColor = { 242, 249, 236, 255 } },
      {.pos = {46.58, 70.00, 16.97}, .uv = {1.96, -1.18}, .vNormal = { 28.00, -11.00, 123.00}, .vColor = { 187, 195, 174, 255 } },
      {.pos = {42.42, 28.47, 11.83}, .uv = {2.03, 0.69}, .vNormal = { 29.00, -30.00, 119.00}, .vColor = { 242, 249, 236, 255 } },
      {.pos = {86.19, 65.13, 7.70}, .uv = {2.62, -1.46}, .vNormal = { 19.00, 0.00, 125.00}, .vColor = { 187, 195, 174, 255 } },
      {.pos = {61.60, 74.87, 12.30}, .uv = {2.29, -1.79}, .vNormal = { 31.00, 0.00, 123.00}, .vColor = { 187, 195, 174, 255 } },
      {.pos = {-37.00, 74.00, 20.00}, .uv = {0.44, -0.50}, .vNormal = { -7.00, -11.00, 126.00}, .vColor = { 187, 195, 174, 255 } },
      {.pos = {14.46, 28.94, 21.69}, .uv = {1.51, 0.89}, .vNormal = { 16.00, -35.00, 120.00}, .vColor = { 242, 249, 236, 255 } },
      {.pos = {-67.00, 34.00, 11.00}, .uv = {-0.00, 1.70}, .vNormal = { -2.00, -113.00, 57.00}, .vColor = { 175, 167, 137, 255 } },
      {.pos = {-93.85, 29.00, 7.00}, .uv = {-0.34, 2.22}, .vNormal = { 7.00, -101.00, 76.00}, .vColor = { 175, 167, 137, 255 } },
      {.pos = {-13.17, 31.77, 19.72}, .uv = {1.00, 1.01}, .vNormal = { -22.00, -114.00, 49.00}, .vColor = { 228, 233, 216, 255 } },
      {.pos = {69.99, 33.87, 7.25}, .uv = {2.52, 0.12}, .vNormal = { 16.00, -92.00, 85.00}, .vColor = { 194, 191, 168, 255 } },
      {.pos = {42.28, 21.26, 9.37}, .uv = {2.04, 1.02}, .vNormal = { 26.00, -105.00, 64.00}, .vColor = { 196, 194, 171, 255 } },
      {.pos = {95.13, 33.37, 7.12}, .uv = {2.84, 0.01}, .vNormal = { 5.00, -30.00, 123.00}, .vColor = { 175, 167, 137, 255 } },
      {.pos = {-40.10, 30.78, 14.15}, .uv = {0.51, 1.42}, .vNormal = { -8.00, -119.00, 43.00}, .vColor = { 201, 200, 178, 255 } },
      {.pos = {14.21, 22.54, 18.32}, .uv = {1.52, 1.18}, .vNormal = { -9.00, -115.00, 51.00}, .vColor = { 228, 233, 216, 255 } },
      {.pos = {-12.73, 26.30, 11.21}, .uv = {-0.35, -0.16}, .vNormal = { -8.00, -24.00, 124.00}, .vColor = { 238, 238, 236, 255 } },
      {.pos = {-41.22, 27.79, 7.06}, .uv = {-2.54, -0.39}, .vNormal = { -11.00, -19.00, 124.00}, .vColor = { 238, 238, 236, 255 } },
      {.pos = {-18.00, 9.00, 6.00}, .uv = {1.34, -2.05}, .vNormal = { -10.00, -22.00, 124.00}, .vColor = { 238, 238, 236, 255 } },
      {.pos = {-41.22, 27.79, 7.06}, .uv = {2.01, -3.59}, .vNormal = { -11.00, -19.00, 124.00}, .vColor = { 238, 238, 236, 255 } },
      {.pos = {-42.60, 13.00, 5.44}, .uv = {1.06, -3.49}, .vNormal = { -3.00, -14.00, 126.00}, .vColor = { 239, 239, 236, 255 } },
      {.pos = {-12.73, 26.30, 11.21}, .uv = {2.32, -1.77}, .vNormal = { -8.00, -24.00, 124.00}, .vColor = { 238, 238, 236, 255 } },
      {.pos = {98.79, -6.81, 1.17}, .uv = {1.40, 5.65}, .vNormal = { 3.00, -14.00, 126.00}, .vColor = { 216, 208, 192, 255 } },
      {.pos = {66.95, -6.90, 2.05}, .uv = {1.04, 3.65}, .vNormal = { 4.00, -13.00, 126.00}, .vColor = { 238, 238, 236, 255 } },
      {.pos = {69.50, -49.75, -4.76}, .uv = {-1.66, 4.30}, .vNormal = { 9.00, -22.00, 124.00}, .vColor = { 107, 88, 90, 255 } },
      {.pos = {100.72, -27.02, -1.85}, .uv = {0.13, 6.00}, .vNormal = { 5.00, -21.00, 125.00}, .vColor = { 119, 96, 92, 255 } },
      {.pos = {-65.24, -46.20, -3.64}, .uv = {-2.98, -4.21}, .vNormal = { 2.00, -21.00, 125.00}, .vColor = { 105, 86, 88, 255 } },
      {.pos = {-48.78, 29.16, 6.73}, .uv = {-3.04, -0.44}, .vNormal = { -8.00, -12.00, 126.00}, .vColor = { 240, 240, 237, 255 } },
      {.pos = {-63.55, -6.50, 2.83}, .uv = {-0.43, -4.57}, .vNormal = { 0.00, -17.00, 125.00}, .vColor = { 238, 238, 236, 255 } },
      {.pos = {-43.00, -6.61, 2.77}, .uv = {-0.20, -3.28}, .vNormal = { -6.00, -17.00, 125.00}, .vColor = { 238, 238, 236, 255 } },
      {.pos = {-13.10, -48.10, -2.55}, .uv = {-2.47, -0.91}, .vNormal = { -3.00, -21.00, 125.00}, .vColor = { 105, 86, 88, 255 } },
      {.pos = {-48.78, 29.16, 6.73}, .uv = {2.00, -4.08}, .vNormal = { -8.00, -12.00, 126.00}, .vColor = { 240, 240, 237, 255 } },
      {.pos = {64.45, 13.00, 3.93}, .uv = {2.27, 3.27}, .vNormal = { 4.00, -7.00, 126.00}, .vColor = { 238, 238, 236, 255 } },
      {.pos = {69.26, 23.01, 3.97}, .uv = {2.96, 3.47}, .vNormal = { 3.00, 4.00, 126.00}, .vColor = { 216, 208, 192, 255 } },
      {.pos = {43.23, -6.99, 2.97}, .uv = {0.78, 2.15}, .vNormal = { 7.00, -13.00, 126.00}, .vColor = { 238, 238, 236, 255 } },
      {.pos = {-96.50, -6.41, 2.56}, .uv = {-0.82, -6.64}, .vNormal = { 0.00, -13.00, 126.00}, .vColor = { 216, 205, 190, 255 } },
      {.pos = {18.00, -9.00, 6.00}, .uv = {0.54, 0.58}, .vNormal = { 10.00, -23.00, 124.00}, .vColor = { 238, 238, 236, 255 } },
      {.pos = {-18.00, -9.00, 6.00}, .uv = {0.11, -1.78}, .vNormal = { -9.00, -21.00, 124.00}, .vColor = { 238, 238, 236, 255 } },
      {.pos = {-64.17, 12.95, 5.05}, .uv = {0.84, -4.62}, .vNormal = { -4.00, -10.00, 126.00}, .vColor = { 238, 238, 236, 255 } },
      {.pos = {96.51, 13.00, 2.93}, .uv = {2.62, 5.29}, .vNormal = { 4.00, -5.00, 126.00}, .vColor = { 216, 208, 192, 255 } },
      {.pos = {94.42, 28.67, 2.92}, .uv = {3.58, 4.99}, .vNormal = { -20.00, -92.00, 84.00}, .vColor = { 110, 89, 85, 255 } },
      {.pos = {69.26, 23.01, 3.97}, .uv = {5.34, -0.21}, .vNormal = { 3.00, 4.00, 126.00}, .vColor = { 216, 208, 192, 255 } },
      {.pos = {94.78, 28.00, 5.00}, .uv = {7.30, -0.32}, .vNormal = { -21.00, -111.00, 56.00}, .vColor = { 122, 99, 94, 255 } },
      {.pos = {14.21, 22.54, 18.32}, .uv = {1.50, -0.39}, .vNormal = { -9.00, -115.00, 51.00}, .vColor = { 228, 233, 216, 255 } },
      {.pos = {94.78, 28.00, 5.00}, .uv = {2.88, 0.27}, .vNormal = { -21.00, -111.00, 56.00}, .vColor = { 122, 99, 94, 255 } },
      {.pos = {100.91, -49.04, -6.51}, .uv = {-1.28, 6.27}, .vNormal = { 7.00, -26.00, 124.00}, .vColor = { 115, 98, 100, 255 } },

};

static const uint16_t poly_Beach_Beach[] = {
    //>------------------------------
       //>     + matName: Beach 
       //>          - matTextureName: Sand-Texture-1 
       //>          - matTextureSize(x,y):  (64, 64) 

    //>------------------------------

          8, 9, 10,
          11, 12, 13,
          14, 15, 16,
          17, 18, 19,
          20, 21, 22,
          23, 24, 9,
          25, 26, 12,
          8, 23, 9,
          11, 25, 12,
          65, 13, 68,
          24, 69, 70,
          71, 72, 24,
          73, 16, 18,
          75, 16, 76,
          77, 10, 15,
          26, 79, 80,
          81, 79, 25,
          75, 20, 82,
          81, 11, 83,
          10, 81, 83,
          18, 82, 19,
          9, 70, 81,
          16, 84, 76,
          15, 83, 84,
          21, 85, 78,
          14, 77, 15,
          17, 73, 18,
          20, 85, 21,
          23, 71, 24,
          25, 79, 26,
          65, 11, 13,
          24, 72, 69,
          73, 14, 16,
          75, 18, 16,
          77, 8, 10,
          75, 85, 20,
          81, 25, 11,
          10, 9, 81,
          18, 75, 82,
          9, 24, 70,
          16, 15, 84,
          15, 10, 83,
          65, 66, 67,
          78, 67, 66,
          76, 65, 67,
          75, 67, 85,
          70, 86, 79,
          80, 86, 87,
          65, 68, 66,
          71, 92, 72,
          78, 85, 67,
          76, 84, 65,
          81, 70, 79,
          75, 76, 67,
          70, 69, 86,
          80, 79, 86,

};


static const uint16_t poly_Beach_rockybeach[] = {
    //>------------------------------
       //>     + matName: rockybeach 
       //>          - matTextureName: Sand-Texture-3-Stones 
       //>          - matTextureSize(x,y):  (64, 64) 

    //>------------------------------

          0, 1, 2,
          3, 4, 5,
          6, 2, 7,
          27, 28, 29,
          1, 29, 2,
          6, 0, 2,
          2, 29, 28,
          30, 31, 32,
          7, 33, 34,
          3, 35, 36,
          32, 35, 5,
          2, 28, 33,
          63, 7, 30,
          30, 38, 31,
          7, 2, 33,
          3, 5, 35,
          32, 31, 35,
          63, 30, 32,
          63, 6, 7,
          37, 38, 39,
          63, 32, 64,
          32, 74, 64,
          5, 74, 32,
          29, 88, 27,
          27, 89, 28,
          37, 90, 38,
          1, 88, 29,
          5, 4, 74,

};


static const uint16_t poly_Beach_grass[] = {
    //>------------------------------
       //>     + matName: grass 
       //>          - matTextureName: Grass-Texture-2 
       //>          - matTextureSize(x,y):  (128, 32) 

    //>------------------------------

          40, 41, 42,
          42, 43, 44,
          45, 46, 47,
          48, 49, 50,
          48, 51, 52,
          45, 53, 40,
          50, 46, 54,
          55, 40, 42,
          55, 44, 56,
          57, 54, 45,
          58, 50, 59,
          58, 60, 48,
          61, 45, 40,
          62, 50, 54,
          40, 53, 41,
          42, 41, 43,
          45, 54, 46,
          48, 52, 49,
          48, 60, 51,
          45, 47, 53,
          50, 49, 46,
          55, 61, 40,
          55, 42, 44,
          57, 62, 54,
          58, 48, 50,
          61, 57, 45,
          62, 59, 50,
          58, 91, 60,

};


void draw_beach()
{

    glEnableClientState(GL_VERTEX_ARRAY);
    glEnableClientState(GL_TEXTURE_COORD_ARRAY);
    glEnableClientState(GL_NORMAL_ARRAY);
    glEnableClientState(GL_COLOR_ARRAY);

    glVertexPointer(3, GL_FLOAT, sizeof(gl_XP64_Vert), (void*)(0 * sizeof(float) + (void*)vert_Beach));
    glTexCoordPointer(2, GL_FLOAT, sizeof(gl_XP64_Vert), (void*)(3 * sizeof(float) + (void*)vert_Beach));
    glNormalPointer(GL_FLOAT, sizeof(gl_XP64_Vert), (void*)(5 * sizeof(float) + (void*)vert_Beach));
    glColorPointer(4, GL_UNSIGNED_BYTE, sizeof(gl_XP64_Vert), (void*)(8 * sizeof(float) + (void*)vert_Beach));

    glDepthFunc(GL_LESS_INTERPENETRATING_N64);

    glBindTexture(GL_TEXTURE_2D, textures[7]); //>----- UPDATE ----- rebind with the new material settings
    glDrawElements(GL_TRIANGLES, sizeof(poly_Beach_Beach) / sizeof(uint16_t), GL_UNSIGNED_SHORT, poly_Beach_Beach);

    glBindTexture(GL_TEXTURE_2D, textures[9]); //>----- UPDATE ----- rebind with the new material settings
    glDrawElements(GL_TRIANGLES, sizeof(poly_Beach_rockybeach) / sizeof(uint16_t), GL_UNSIGNED_SHORT, poly_Beach_rockybeach);

    glBindTexture(GL_TEXTURE_2D, textures[6]); //>----- UPDATE ----- rebind with the new material settings
    glDrawElements(GL_TRIANGLES, sizeof(poly_Beach_grass) / sizeof(uint16_t), GL_UNSIGNED_SHORT, poly_Beach_grass);

    glDisableClientState(GL_VERTEX_ARRAY);
    glDisableClientState(GL_TEXTURE_COORD_ARRAY);
    glDisableClientState(GL_NORMAL_ARRAY);
    glDisableClientState(GL_COLOR_ARRAY);


    gin64_UpdateTriCounter(112);
}







u8 waveFrame = 20;
u8 tempCounter = 0;


static const gl_XP64_Vert vert_Waves[] = {
      {.pos = {51.91, -121.92, -2.89}, .uv = {-0.70, 2.71}, .vNormal = { 5.00, -2.00, 126.00}, .vColor = { 127, 134, 217, 255 } },
      {.pos = {18.82, -65.35, -1.33}, .uv = {0.71, 0.78}, .vNormal = { 2.00, -8.00, 126.00}, .vColor = { 181, 204, 247, 255 } },
      {.pos = {19.27, -125.87, -2.89}, .uv = {-0.31, 0.27}, .vNormal = { 0.00, -3.00, 126.00}, .vColor = { 127, 134, 217, 255 } },
      {.pos = {43.92, -60.33, -1.77}, .uv = {0.44, 2.68}, .vNormal = { 7.00, -7.00, 126.00}, .vColor = { 174, 181, 255, 255 } },
      {.pos = {18.00, -17.52, 4.52}, .uv = {1.85, 1.66}, .vNormal = { 6.00, -14.00, 126.00}, .vColor = { 254, 244, 213, 255 } },
      {.pos = {-104.91, -82.47, -2.39}, .uv = {2.14, -8.51}, .vNormal = { 4.00, -5.00, 126.00}, .vColor = { 73, 70, 145, 255 } },
      {.pos = {-75.21, -108.68, -3.89}, .uv = {1.29, -6.55}, .vNormal = { 2.00, -3.00, 126.00}, .vColor = { 127, 134, 217, 255 } },
      {.pos = {-61.85, -54.23, -2.75}, .uv = {2.02, -5.09}, .vNormal = { 1.00, -9.00, 126.00}, .vColor = { 181, 204, 247, 255 } },
      {.pos = {-97.83, -8.73, 2.20}, .uv = {3.61, -6.84}, .vNormal = { 1.00, -12.00, 126.00}, .vColor = { 255, 244, 212, 255 } },
      {.pos = {-116.74, -59.32, -0.45}, .uv = {2.70, -9.19}, .vNormal = { 6.00, -8.00, 126.00}, .vColor = { 73, 70, 145, 255 } },
      {.pos = {73.04, -115.24, -4.47}, .uv = {-0.88, 4.33}, .vNormal = { 8.00, -1.00, 126.00}, .vColor = { 127, 134, 217, 255 } },
      {.pos = {61.80, -59.10, -3.11}, .uv = {0.21, 4.01}, .vNormal = { 4.00, -8.00, 126.00}, .vColor = { 174, 181, 255, 255 } },
      {.pos = {41.97, -16.51, 2.18}, .uv = {1.46, 3.41}, .vNormal = { 4.00, -14.00, 126.00}, .vColor = { 255, 244, 212, 255 } },
      {.pos = {-51.60, -116.41, -4.51}, .uv = {0.83, -4.87}, .vNormal = { -3.00, -3.00, 126.00}, .vColor = { 73, 70, 145, 255 } },
      {.pos = {-13.61, -63.80, -0.79}, .uv = {1.19, -1.60}, .vNormal = { -4.00, -9.00, 126.00}, .vColor = { 174, 181, 255, 255 } },
      {.pos = {-43.60, -54.81, -2.74}, .uv = {1.76, -3.75}, .vNormal = { -5.00, -10.00, 126.00}, .vColor = { 182, 204, 245, 255 } },
      {.pos = {-16.34, -123.97, -2.89}, .uv = {0.22, -2.34}, .vNormal = { -2.00, -3.00, 126.00}, .vColor = { 73, 70, 145, 255 } },
      {.pos = {-12.82, -11.65, 6.10}, .uv = {2.38, -0.56}, .vNormal = { -5.00, -17.00, 125.00}, .vColor = { 255, 244, 212, 255 } },
      {.pos = {99.83, -8.73, 0.99}, .uv = {0.85, 7.78}, .vNormal = { 2.00, -12.00, 126.00}, .vColor = { 249, 243, 218, 255 } },
      {.pos = {60.86, -8.48, 4.18}, .uv = {1.40, 4.91}, .vNormal = { 3.00, -18.00, 125.00}, .vColor = { 255, 244, 212, 255 } },
      {.pos = {104.67, -88.69, -5.39}, .uv = {-0.88, 6.91}, .vNormal = { 0.00, -9.00, 126.00}, .vColor = { 127, 134, 217, 255 } },
      {.pos = {-42.28, -5.73, 4.35}, .uv = {2.89, -2.72}, .vNormal = { -8.00, -16.00, 125.00}, .vColor = { 254, 244, 213, 255 } },
      {.pos = {-57.90, -2.91, 3.76}, .uv = {3.15, -3.85}, .vNormal = { -5.00, -15.00, 125.00}, .vColor = { 254, 245, 214, 255 } },
      {.pos = {120.05, -59.32, -1.12}, .uv = {-0.60, 8.31}, .vNormal = { -4.00, -11.00, 126.00}, .vColor = { 127, 134, 217, 255 } },

};

static const uint16_t poly_Waves_water[] = {
    //>------------------------------
       //>     + matName: water 
       //>          - matTextureName: beach_waves_sequence51 
       //>          - matTextureSize(x,y):  (128, 32) 

    //>------------------------------

          0, 1, 2,
          3, 4, 1,
          5, 6, 7,
          7, 8, 9,
          10, 3, 0,
          11, 12, 3,
          13, 14, 15,
          16, 1, 14,
          14, 4, 17,
          11, 18, 19,
          11, 10, 20,
          7, 13, 15,
          7, 21, 22,
          7, 9, 5,
          20, 23, 11,
          15, 17, 21,
          0, 3, 1,
          3, 12, 4,
          7, 22, 8,
          10, 11, 3,
          11, 19, 12,
          13, 16, 14,
          16, 2, 1,
          14, 1, 4,
          11, 23, 18,
          7, 6, 13,
          7, 15, 21,
          15, 14, 17,

};


void draw_waves()
{

    glEnableClientState(GL_VERTEX_ARRAY);
    glEnableClientState(GL_TEXTURE_COORD_ARRAY);
    glEnableClientState(GL_NORMAL_ARRAY);
    glEnableClientState(GL_COLOR_ARRAY);



    glVertexPointer(3, GL_FLOAT, sizeof(gl_XP64_Vert), (void*)(0 * sizeof(float) + (void*)vert_Waves));
    glTexCoordPointer(2, GL_FLOAT, sizeof(gl_XP64_Vert), (void*)(3 * sizeof(float) + (void*)vert_Waves));
    glNormalPointer(GL_FLOAT, sizeof(gl_XP64_Vert), (void*)(5 * sizeof(float) + (void*)vert_Waves));
    glColorPointer(4, GL_UNSIGNED_BYTE, sizeof(gl_XP64_Vert), (void*)(8 * sizeof(float) + (void*)vert_Waves));



    if (tempCounter < 2) {

        tempCounter += 1;
    }

    else {

        waveFrame += 1;
        tempCounter = 0;
    }

    rdpq_mode_dithering(DITHER_NOISE_NOISE);

    if (waveFrame < waveTextureTotal) {

        glBindTexture(GL_TEXTURE_2D, waveTextures[waveFrame]); //>----- UPDATE ----- rebind with the new material settings

    }

    else {

        waveFrame = 0;
        glBindTexture(GL_TEXTURE_2D, waveTextures[waveFrame]); //>----- UPDATE ----- rebind with the new material settings
    }

    glDrawElements(GL_TRIANGLES, sizeof(poly_Waves_water) / sizeof(uint16_t), GL_UNSIGNED_SHORT, poly_Waves_water);

    glDisableClientState(GL_VERTEX_ARRAY);
    glDisableClientState(GL_TEXTURE_COORD_ARRAY);
    glDisableClientState(GL_NORMAL_ARRAY);
    glDisableClientState(GL_COLOR_ARRAY);

    gin64_UpdateTriCounter(28);

}
